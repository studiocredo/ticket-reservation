# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET         /                       @controllers.Application.index


# Login page
GET         /login                                  @controllers.auth.LoginPage.login()
POST        /login                                  @controllers.auth.LoginPage.handleLogin()
GET         /logout                                 @controllers.auth.LoginPage.logout

GET         /not-authorized                         @controllers.auth.Auth.notAuthorized

# User Registration and password handling
GET         /signup                                 @controllers.auth.SignUp.startSignUp
POST        /signup                                 @controllers.auth.SignUp.handleStartSignUp
GET         /signup/emailed                         @controllers.auth.SignUp.signUpAwaitEmail
POST        /signup/force                           @controllers.auth.SignUp.forceHandleStartSignUp(email: String)
GET         /signup/:token                          @controllers.auth.SignUp.signUp(token)
POST        /signup/:token                          @controllers.auth.SignUp.handleSignUp(token:String)
GET         /reset                                  @controllers.auth.PasswordReset.startResetPassword
POST        /reset                                  @controllers.auth.PasswordReset.handleStartResetPassword
GET         /reset/:token/:username                 @controllers.auth.PasswordReset.resetPassword(token:String, username: String)
POST        /reset/:token/:username                 @controllers.auth.PasswordReset.handleResetPassword(token:String, username: String)
GET         /password                               @controllers.auth.PasswordChange.page
POST        /password                               @controllers.auth.PasswordChange.handlePasswordChange


# Admin
GET         /admin/users                            @controllers.admin.Users.list(p:Int ?= 0)
GET         /admin/users/new                        @controllers.admin.Users.create
POST        /admin/users                            @controllers.admin.Users.save
GET         /admin/users/:id                        @controllers.admin.Users.edit(id:Long)
POST        /admin/users/:id                        @controllers.admin.Users.update(id:Long)

GET         /admin/user/:id                         @controllers.admin.UserDetails.view(id:Long)


GET         /admin/venues                           @controllers.admin.Venues.list(p:Int ?= 0)
GET         /admin/venues/new                       @controllers.admin.Venues.create
POST        /admin/venues                           @controllers.admin.Venues.save
GET         /admin/venues/:id                       @controllers.admin.Venues.edit(id:Long)
POST        /admin/venues/:id                       @controllers.admin.Venues.update(id:Long)
POST        /admin/venues/:id/delete                @controllers.admin.Venues.delete(id:Long)
GET         /admin/floorplan/:id                    @controllers.admin.Floorplans.view(id:Long)
GET         /admin/ajax/floorplan/:id               @controllers.admin.Floorplans.ajaxFloorPlan(id:Long)
POST        /admin/ajax/floorplan/:id               @controllers.admin.Floorplans.ajaxSaveFloorPlan(id: Long)

GET         /admin/events                           @controllers.admin.Events.list(p:Int ?= 0)
GET         /admin/events/new                       @controllers.admin.Events.create
POST        /admin/events                           @controllers.admin.Events.save
GET         /admin/events/:id                       @controllers.admin.Events.edit(id:Long)
POST        /admin/events/:id                       @controllers.admin.Events.update(id:Long)
POST        /admin/events/:id/delete                @controllers.admin.Events.delete(id:Long)

GET         /admin/event/:id                        @controllers.admin.EventDetails.view(id:Long)
POST        /admin/event/:id/addshow                @controllers.admin.EventDetails.addShow(id:Long)


GET         /order                                  @controllers.Orders.start(event:Option[Long], show:Option[Long])
GET         /event/:id                              @controllers.Events.view(id:Long)
GET         /show/:id                               @controllers.Events.viewShow(id:Long)
GET         /show/:id/floorplan                     @controllers.Events.ajaxFloorplan(id:Long)

GET         /reservation/:id/new                    @controllers.reservation.Reservations.create(id:Long)


# Assets
GET         /assets/javascripts/routes              @controllers.Application.javascriptRoutes
GET         /assets/*file                           controllers.Assets.at(path="/public", file)
GET         /webjars/*file                          controllers.WebJarAssets.at(file)

# Test
GET         /admin/test/fakedata                    @controllers.admin.FakeData.insert()
