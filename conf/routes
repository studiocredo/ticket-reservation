# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET         /                       @controllers.Application.index


# Login page
GET         /login                                  @controllers.auth.LoginPage.login()
POST        /login                                  @controllers.auth.LoginPage.handleLogin()
GET         /logout                                 @controllers.auth.LoginPage.logout

GET         /not-authorized                         @controllers.auth.Auth.notAuthorized

# User Registration and password handling
GET         /signup                                 @controllers.auth.SignUp.startSignUp
POST        /signup                                 @controllers.auth.SignUp.handleStartSignUp
GET         /signup/emailed                         @controllers.auth.SignUp.signUpAwaitEmail
POST        /signup/force                           @controllers.auth.SignUp.forceHandleStartSignUp(email: String)
GET         /signup/:token                          @controllers.auth.SignUp.signUp(token)
POST        /signup/:token                          @controllers.auth.SignUp.handleSignUp(token:String)
GET         /reset                                  @controllers.auth.PasswordReset.startResetPassword
POST        /reset                                  @controllers.auth.PasswordReset.handleStartResetPassword
GET         /reset/:token/:username                 @controllers.auth.PasswordReset.resetPassword(token:String, username: String)
POST        /reset/:token/:username                 @controllers.auth.PasswordReset.handleResetPassword(token:String, username: String)
GET         /password                               @controllers.auth.PasswordChange.page
POST        /password                               @controllers.auth.PasswordChange.handlePasswordChange


# Admin
GET         /admin/users                            @controllers.admin.Users.list(p:Int ?= 0)
GET         /admin/users/new                        @controllers.admin.Users.create
POST        /admin/users                            @controllers.admin.Users.save
GET         /admin/users/:id                        @controllers.admin.Users.edit(id:UserId)
POST        /admin/users/:id                        @controllers.admin.Users.update(id:UserId)

GET         /admin/user/:id                         @controllers.admin.UserDetails.view(id:UserId)


GET         /admin/venues                           @controllers.admin.Venues.list(p:Int ?= 0)
GET         /admin/venues/new                       @controllers.admin.Venues.create
POST        /admin/venues                           @controllers.admin.Venues.save
GET         /admin/venues/:id                       @controllers.admin.Venues.edit(id:VenueId)
POST        /admin/venues/:id                       @controllers.admin.Venues.update(id:VenueId)
POST        /admin/venues/:id/delete                @controllers.admin.Venues.delete(id:VenueId)
GET         /admin/floorplan/:id                    @controllers.admin.Floorplans.view(id:VenueId)
GET         /admin/ajax/floorplan/:id               @controllers.admin.Floorplans.ajaxFloorPlan(id:VenueId)
POST        /admin/ajax/floorplan/:id               @controllers.admin.Floorplans.ajaxSaveFloorPlan(id: VenueId)

GET         /admin/events                           @controllers.admin.Events.list(p:Int ?= 0)
GET         /admin/events/new                       @controllers.admin.Events.create
POST        /admin/events                           @controllers.admin.Events.save
GET         /admin/events/:id                       @controllers.admin.Events.edit(id:EventId)
POST        /admin/events/:id                       @controllers.admin.Events.update(id:EventId)
POST        /admin/events/:id/delete                @controllers.admin.Events.delete(id:EventId)

GET         /admin/event/:id                        @controllers.admin.EventDetails.view(id:EventId)
POST        /admin/event/:id/addshow                @controllers.admin.EventDetails.addShow(id:EventId)
GET         /admin/event/:id/show/:show             @controllers.admin.EventDetails.editShow(id:EventId, show:ShowId)
POST        /admin/event/:id/show/:show             @controllers.admin.EventDetails.updateShow(id:EventId, show:ShowId)
POST        /admin/event/:id/show/:show/delete      @controllers.admin.EventDetails.deleteShow(id:EventId, show:ShowId)

GET         /order                                  @controllers.Orders.start(event:Option[EventId], show:Option[ShowId])
GET         /preorder                               @controllers.Prereservations.start(event:Option[EventId])
GET         /preorder/save/:id                      @controllers.Prereservations.save(id:EventId)
GET         /events/                                @controllers.Events.list(p:Int ?= 0)
GET         /events/:event                          @controllers.Events.view(event:EventId)
GET         /events/:event/show/:show               @controllers.Events.viewShow(event:EventId, show:ShowId)
GET         /events/floorplan/:id                   @controllers.Events.ajaxFloorplan(id:VenueId)

# Assets
GET         /assets/javascripts/routes              @controllers.Application.javascriptRoutes
GET         /assets/*file                           controllers.Assets.at(path="/public", file)
GET         /webjars/*file                          controllers.WebJarAssets.at(file)

# Test
GET         /admin/test/fakedata                    @controllers.admin.FakeData.insert()
